#2 系统调查与问题分析
##2.1系统开发的背景调查
        随着社会的发展，人们生活水平的提高，欣赏电影逐渐成为人们闲暇时的主要娱乐方式之一，传统的电影售票都是人工售票排座，传统电影院售票模式的缺点显而易见：手续繁琐、效率低下、出错率高、存在滞后性、用户体验不佳且不方便管理订单数据。因此信息化管理是现代企业适应时代潮流一个不可以逃避的选择。
        在信息化全方位覆盖生活的当下社会，建立基于WEB技术的网上售票系统是十分必要的。影院售票系统主要针对电影院售票相关的一系列工作的管理，而网上售票系统能够把票券信息流、商务流以及资金流三种电子商务模型有机的结合起来。这种新型的售票流程自动化、智能分析、科学宏观的管理模式已经成为各个影院的必然需求。
        一款好的影院售票管理系统，可以帮助售票人员提高工作效率，使得售票订单数据具体化、规范化，提升用户体验。它具有传统的人工订票系统所不可比拟的优越性。为了更好地适应信息时代的高效性，一个利用计算机来实现影院售票工作的系统必然诞生。
        
##2.2系统的可行性分析
        该阶段通过对系统目标的初步调研和分析，提出可行性方案并进行论证。我们在这里主要从技术可行性、经济可行性和操作可行性三方面进行分析。
###2.2.1经济可行性
        系统的开发给予开发人员对程序开发的实践学习而来，电影院无需投资，且软件开发过程中投入的成本不高。后影院网站维护，系统检修等维护费用应计入相关工作人员工资发放支出。因此开发维护方面的经费完全可以接受。
        总体评价费用支出较少。以上分析可知，影院售票系统在经济上是可行的。
###2.2.2技术可行性
        根据售票系统的具体功能、性能，开发人员选择相应的开发工具进行开发。
####2.2.2.1技术可行性分析的前提
    1、功能
        用户注册登录；影院信息查询；影片基本信息查询；在线选座购票；订单查询；退票；管理员登录；后台信息修改与管理。
    2、性能要求
        提供友好的用户接口、快捷方便的用户操作方式。订单信息必须及时更新，无差错存储在数据库，保证数据的完整性与一致性。
####2.2.2.2开发及维护
    1、系统运行预计寿命：3年
    2、设备    
        硬件、外部设备（多媒体计算机一台、打印机一台、扫描仪一台）
        运行本系统所要求的硬件设备最小配置：
    	    Intel Pentium 166MHz、内存512M；
	    I/O设备：显示器、鼠标、键盘。
    3、开发工具
        数据库：SQL Server 2012；
        编译程序：Eclipse JavaEE；
        前台开发：Bootstrap。 
    4、控制
        本系统是以中文版Windows 7版本的操作系统来控制系统运行。
        
        本系统主要是一个数据库管理和查询的系统，现有的技术已较为成熟，优秀的开发平台为整个系统提供了强有力的保证，加上优秀的开发人员和完善的开发环境，位系统的顺利开发提供了技术保证。
###2.2.3操作可行性
        用户可以通过祖册登录电影院官方网站进行影院、影片信息查询。可操作选座、订票、支付、退票、订单查询等功能。管理员也可以在后台添加、删除、修改影院、影片信息，对注册用户和订单信息进行管理。影院工作人员在短期的培训后能够了解系统功能和方法，很快适应系统，不必对业务流程进行重大调整就能运行。因此，本系统在操作上也是可行的。


#3. 系统分析
        客户的需求往往是不完善、不明确的，因此电影院售票管理系统的开发目标必须以满足客户需求为前提，而在系统开发的第一阶段中，需要开发者收集客户需求的内容和想法，确定系统功能。
        系统分析的主要任务是将在系统详细调查中所得到的原始资料集中到一起，对组织内部整体管理状况和信息处理过程进行分析，通过分配每个工作部分一定的职能，最终完成新系统的逻辑模型设计，得到解决问题的可行性方案。具体步骤包括：限定问题范围、确定目标、调查研究收集数据、提出备选方案和评价标准、备选方案评估和提出最可行方案。

##3.1需求分析    
        在软件工程中，需求分析指的是在建立一个新的或改变一个现存的电脑系统时描写新系统的目的、范围、定义和功能时所要做的详细的工作。定义需求就是识别问题，即从系统角度来理解软件，确定对所开发系统的综合要求，并提出这些需求的实现条件，以及需求应该达到的标准。需求分析的结果是想获得用例模型。当然还可能有其他的产品，比如用户界面原型。在这个过程中，要确定客户的需求，才能够分析和寻求新系统的解决方法。需求分析阶段的任务是确定软件系统功能。
###3.1.1 范围定义阶段
    	工作项目范围定义就是把项目的可交付性成果（一个主要的子项目）分解为较小的、更容易管理的多个独立单元，以提高费用、时间和资源估算的准确性，明确划分各部分的权力和责任，便于清楚地分派任务。
        电影售票管理系统设计的目标是：管理功能完善、数据共享和信息传递方便快捷，结合影院售票管理的工作特点，实现用户个人信息管理、在线选座、网上支付、订单查询，实现影院管理员影片信息管理、用户管理、订单管理。	
###3.1.2 项目的初步范围
        1、系统数据：影片信息、订单信息、用户信息、管理员信息
        2、业务过程：影片信息管理、用户信息管理、订单生成、网上支付、订单查询、订单删除、订单修改
        3、接口对象：用户、管理员、影院售票管理系统

##3.2 UML对象建模
###3.2.1 对象建模概述
        面向对象分析（Object-Oriented Analysis，OOA）技术用于：1>研究现有对象，看能否复用它们或者调整他们用于新的途径；2>定义各种新对象和修改后的对象，他们将与现有对象一起组合成一个有用的企业计算应用系统。对象分析涉及到定义信息系统的静态和动态行为模型，而非定于数据和过程模型。它主要包含三个活动：建模系统功能；发现并确定业务对象；组织对象并确定其关系。
        面向对象方法的核心是一种称为对象建模的技术。对象建模是一种用于辨识系统环境中的对象和这些对象之间关系的技术。它将事物的属性和方法封装形成对象，从对象和对象间的关系的角度文档化系统，是面向对象分析和设计方法的基础。
###3.2.2 用例模型
        按照UML的正式定义中的说法，用例是对包括变量在内的一组动作序列的抽象描述，系统执行这些动作，并产生传递特定参与者的价值的可观察结果。这些结果要么反馈给参与者，要么作为其他用例的参数。用例图是指由参与者（Actor）、用例（Use Case）以及它们之间的关系构成的用于描述系统功能的静态视图。用例图（User Case）是被称为参与者的外部用户所能观察到的系统功能的模型图，呈现了一些参与者和一些用例，以及它们之间的关系，主要用于对系统、子系统或类的功能行为进行建模。
        构建用例模型是为了将在许多用例内说明的公有行为分离出来，使用例更容易被理解。用例模型是系统既定功能及系统环境的模型，它可以作为客户和开发人员之间的契约，是贯穿整个系统开发的一条主线。同一个用例模型即为需求工作流程的结果，可当作分析设计工作流程以及测试工作流程的输入使用。
        以下两张图分别为用户用例和管理员用例图：




        图3.1中清楚的描述了用户在打开电影院网站进行0网上购票时所拥有的权限。我们都知道在订单管理下可以设置两个部分，一个是管理员权限，另一个是用户权限。结合电影票购买的实际情况，系统在订单业务层面赋予了用户下订单和订单查询两个功能。用户在线选座购票后系统生成订单，用户可以查询订单，提出退票申请。关于退票之后的处理，订单状态的修改则需要管理员来完成。然后就是用户对于自己个人信息的操作，系统为用户提供了删除、添加、修改三项权限，用户可以根据自己的不同需求进行操作来完善个人信息。
        
        
        
        
        
        
        图3.2则详细描述了售票系统管理员在系统中所具备的权限。就订单业务层面而已，管理员的权限包括三大块：影片信息管理、会员管理和订单管理。首先管理员要在电影院网站上发布上映影片信息供用户浏览，还可以修改、删除影票信息的操作。对于注册会员可以进行用户信息修改、删除操作。订单管理方面，管理员当然也具有查询订单的权限，此外，当用户提出退票申请后，管理员对申请进行及时的处理，完成修改订单状态，取消订单，还原影片选座表的操作。管理员日常需要做的就是查看分析影片票房统计和收入，处理用户的投诉，为创造用户更好的消费体验服务。
###3.2.3 用例描述
        一个用例是一种规格说明。可以将每个用例的事件流作为该用例的动作序列的单独文本描述。以下两个表格主要是对系统的主要使用者用户和管理员在使用影院售票系统时的操作与系统之间产生的交互过程。
**一、用户**
       
1、会员注册
| 用例名称： 	| 会员注册	| 
| -----|:----:| 
| 简要说明：    | 用户注册成为电影票售票系统的会员    | 
| 前置条件：   | 用户已打开网上售票系统的页面    |  
| 基本事件流：    | 1.用户打开注册页面。<br> 2. 用户输入用户名、密码、再次输入密码。<br>3. 单击“提交”按钮。<br>  4. 系统将验证登录用户名的有效性和重复性、两次输入密码的正确性，如果都正确显示“注册成功“，反之提示重新输入。    | 
|其他事件流：|用户在执行基本事件流时点击“取消注册”，则退出注册页面返回售票系统主页面。|
| 异常事件流：|系统注册时出现系统故障，例如网络故障，服务器故障，系统弹出系统异常页面，提示注册失败。|
|后置条件：|无|
|未解决问题：|无|
2、会员登录
| 用例名称： 	| 会员登录	| 
| -----|:----:| 
| 简要说明：    | 用户登录电影票售票系统的    | 
| 前置条件：   | 用户已注册    |  
| 基本事件流：    |1.用户请求进入网上售票系统。<br>2. 用户打开登陆页面<br>3. 用户输入用户名、密码，单击”登录“按钮。<br>4. 系统将验证登录用户名和密码的正确性，如果都正确则进入网上售票系统，反之提示重新输入。|
|其他事件流：|用户在执行基本事件流时点击“忘记密码”，则跳转到找回密码页面。|
| 异常事件流：|系统注册时出现系统故障，例如网络故障，服务器故障，系统弹出系统异常页面，提示注册失败。|
|后置条件：|无|
|未解决问题：|无|
3、个人信息管理
| 用例名称： 	| 个人信息管理	| 
| -----|:----:| 
| 简要说明：    | 用来维护会员的相关信息：用户名和密码等   | 
| 前置条件：   | 用户已登录    |  
| 基本事件流：    |1.用户打开个人信息管理页面.<br>2. 用户分别单击”添加“、”修改“、”删除“按钮，对个人信息进行相应操作的管理，单击”提交“按钮。<br>3. 系统更新最新的用户信息。|
|其他事件流：|用户在执行基本事件流时点击“返回”，则返回到上一次最新保存的个人信息管理页面。|
| 异常事件流：|系统登录时出现系统故障，例如网络故障，服务器故障，系统弹出系统异常页面，提示会员登录失败。|
|后置条件：|无|
|未解决问题：|无|
4、网上订票
| 用例名称： 	|网上订票	| 
| -----|:----:| 
| 简要说明：    | 产生原因：用户对电影票的需求。<br>大概过程：用户登录电影院网站，根据自身需求购买电影票。<br>输出结果：登录系统后，用户根据自身需求查询影片信息，在线选座、购票，生成订单。 | 
|优先级别：|高|
| 前置条件：   | 用户对电影票有需求   |  
| 基本事件流：    |1.注册成功。<br>2.用户查询网页上提供的上映影片信息（简介，影评，场次，票价）。<br>3.系统将影片信息反馈给用户。<br>4.用户进行在线选座、购票。<br>5.用户提交订单，系统更新影片选座表。6.订单生成，购票成功。|
|其他事件流：|用户若没有登录系统，则提示用户先登录，同时若是用户未注册，提示用户先注册账号。用户在执行基本事件流时点击“取消购票”，则系统关闭退出购票页面。|
| 异常事件流：|系统保存结账信息时出现系统故障，例如网络故障，服务器故障，系统弹出系统异常页面，提示结账失败不能生成订单。|
|后置条件：|生成订单|
|未解决问题：|无|
5、影评
| 用例名称： 	| 影评	| 
| -----|:----:| 
| 简要说明：    | 用户编写影片影评 | 
| 前置条件：   | 用户已登录    |  
| 基本事件流：    |1.单击进入”会员专区“中的”影评”页面。<br>2. 单击“添加影评”。<br>3. 用户输入影片名称和影评，提交上传。<br>4. 页面跳转到更新后的影评页面。|
|其他事件流：|用户在执行基本事件流时点击“取消添加”，则退出添加影评页面。|
| 异常事件流：|系统保存信息时出现系统故障，例如网络故障，服务器故障，系统弹出系统异常页面，提示添加失败。|
|后置条件：|无|
|未解决问题：|无|
6、会员优惠
| 用例名称： 	| 会员优惠	| 
| -----|:----:| 
| 简要说明：    | 用户查看或享用会员专惠福利 | 
| 前置条件：   | 用户已登录    |  
| 基本事件流：    |1.单击进入”会员专区“中的”积分”页面。<br>2.系统反馈用户当前积分。<br>3.单击“积分兑换”按钮。<br>4. 选择需兑换礼品。<br>5.页面跳转到更新后的积分页面。|
|其他事件流：|用户在执行基本事件流时点击“取消兑换”，则退出该页面。|
| 异常事件流：|系统保存信息时出现系统故障，例如网络故障，服务器故障，系统弹出系统异常页面，提示积分兑换失败。|
|后置条件：|无|
|未解决问题：|无|
7、订单生成
| 用例名称： 	| 订单生成	| 
| -----|:----:| 
| 简要说明：    | 用户可查询已生成订单，并对订单提出退票申请 | 
| 前置条件：   | 网上订票    |  
| 基本事件流：    |1、单击进入”订单”页面。<br>2、系统反馈用户订单信息（订单生成时间、影片场次信息、选座信息）。<br>3、单击“退票”按钮，弹出退票确认窗口。若用户单击“取消“返回订单页面，反之跳转退票申请已成功发送页面。|
|其他事件流：|无|
| 异常事件流：|系统保存信息时出现系统故障，例如网络故障，服务器故障，系统弹出系统异常页面，提示失败。|
|后置条件：|无|
|未解决问题：|无|
8、投诉
| 用例名称： 	| 投诉	| 
| -----|:----:| 
| 简要说明：    | 用户编辑投诉信息发送至管理员处 | 
| 前置条件：   | 用户已登录    |  
| 基本事件流：    |1、单击进入”投诉”页面。<br>2、用户输入影片名称和影评，提交上传。<br>3、页面跳转到投诉成功发送页面。|
|其他事件流：|用户在执行基本事件流时点击“取消投诉”，则退出该页面。|
| 异常事件流：|系统保存信息时出现系统故障，例如网络故障，服务器故障，系统弹出系统异常页面，提示投诉失败。|
|后置条件：|无|
|未解决问题：|无|
**二、管理员**

1、管理员登录
| 用例名称： 	| 管理员登录	| 
| -----|:----:| 
| 简要说明：    | 管理员登录电影票售票系统 | 
| 前置条件：   | 无  |  
| 基本事件流：    |1.管理员请求进入网上售票系统。<br>2. 管理员打开登录页面。<br>3. 管理员输入用户名、密码，单击”登录“按钮。<br>4. 系统将验证登录用户名和密码的正确性，如果都正确则进入网上售票系统，反之提示重新输入。|
|其他事件流：|无|
| 异常事件流：|系统登录时出现系统故障，例如网络故障，服务器故障，系统弹出系统异常页面，提示登录失败。|
|后置条件：|无|
|未解决问题：|无|
2、影片信息管理
| 用例名称： 	| 影片信息管理	| 
| -----|:----:| 
| 简要说明：    | 管理影片的相关信息：简介、上映时间、场次、票价。 | 
| 前置条件：   | 管理员已登录  |  
| 基本事件流：    |1.打开影片信息管理页面.<br>2. 单击”添加“、”修改“、”删除“按钮，对影片的相关信息进行相应操作的管理，单击”提交“按钮。<br>3. 系统更新最新的影片信息。|
|其他事件流：|管理员在执行基本事件流时点击“返回”，则返回到上一次最新保存的影片信息管理页面。|
| 异常事件流：|出现系统故障，例如网络故障，服务器故障，系统弹出系统异常页面，提示失败。|
|后置条件：|无|
|未解决问题：|无|
3、会员管理
| 用例名称： 	| 会员管理	| 
| -----|:----:| 
| 简要说明：    | 管理员享有修改和删除会员信息的权限。 | 
| 前置条件：   | 管理员已登录  |  
| 基本事件流：    |1.打开会员信息管理页面<br>2. 单击”修改“、”删除“按钮，对会员信息进行相应操作的管理，单击”提交“按钮。<br>3. 系统更新最新的会员信息。|
|其他事件流：|管理员在执行基本事件流时点击“返回”，则返回到上一次最新保存的会员信息管理页面。|
| 异常事件流：|出现系统故障，例如网络故障，服务器故障，系统弹出系统异常页面，提示更新失败。|
|后置条件：|无|
|未解决问题：|无|
4、订单管理
| 用例名称： 	|订单管理	| 
| -----|:----:| 
| 简要说明：    | 用于管理会员订单，处理退票申请 | 
| 前置条件：   | 管理员已登录  |  
| 基本事件流：    |1. 打开订单信息管理页面。<br>2. 系统反馈来自会员的退票申请。<br>3. 管理员查核退票信息后，单击”撤销订单“。<br>4. 系统还原相关影片选座表，对用户原订单进行失效处理。|
|其他事件流：|无|
| 异常事件流：|出现系统故障，例如网络故障，服务器故障，系统弹出系统异常页面，提示退票处理失败。|
|后置条件：|无|
|未解决问题：|无|
5、票房统计
| 用例名称： 	|票房统计	| 
| -----|:----:| 
| 简要说明：    | 管理员浏览分析历史影片票房统计 | 
| 前置条件：   | 管理员已登录  |  
| 基本事件流：    | 1.打开票房统计页面。<br>2. 系统反馈历史票房统计，即售出票量和票房收入总和。|
|其他事件流：|无|
| 异常事件流：|出现系统故障，例如网络故障，服务器故障，系统弹出系统异常页面，提示信息更新失败。|
|后置条件：|无|
|未解决问题：|无|
6、投诉处理
| 用例名称： 	|投诉处理	| 
| -----|:----:| 
| 简要说明：    | 管理员回执用户投诉 | 
| 前置条件：   | 管理员已登录  |  
| 基本事件流：    |1.打开投诉处理页面。<br>2. 系统反馈来自会员的投诉。<br>3. 管理员浏览信息后，在文本框中输入回执，单击”回执“上传。<br>4. 用户的投诉页面更新投诉回执。|
|其他事件流：|无|
| 异常事件流：|出现系统故障，例如网络故障，服务器故障，系统弹出系统异常页面，提示投诉处理失败。|
|后置条件：|无|
|未解决问题：|无|

###3.2.3 系统活动图
        UML提供了一种活动图用于和建模系统的过程步骤或活动。活动图（activity diagram）是阐明了业务用例实现的工作流程，用于研究实现业务目标时所要执行的各项任务或活动的顺序安排。业务工作流程就是业务为向所服务的业务主角提供其所需的价值而必须完成的工作。工作流程通常包括一个基本工作流程和一个或多个备选工作流程。
###3.2.4 建立对象类图
        类图(Class diagram)是显示了模型的静态结构，特别是模型中存在的类、类的内部结构以及它们与其他类的关系等。类图不显示暂时性信息。在一个系统中，类图起到了组织对象，并记录对象之间主要概念关系的作用。类与类的关系有泛化、依赖、实现、关联、聚合、组合、双向关联、单向关联等。
    1、定义类


###3.2.5 系统顺序图
        在逻辑设计阶段还有一种分析工具：系统顺序图（System Sequence Diagram）。顺序图和活动图一样，是一种动态建模方法，描述了在用例执行或操作过程中对象类如何在时间顺序上进行消息的相互交互。
        顺序图将显示对于UC的特定场景，外部参与者产生的事件、事件的顺序以及系统之间的事件。所有系统都被视为黑盒，该图强调的是从参与者到系统的跨越系统边界的事件。面向对象的世界是有对象之间发送的消息驱动的，而系统顺序图正是帮助我们开始确定进入和推出系统的高层消息。

#4 系统设计
##4.1 系统体系结构设计
##4.2 数据库设计
##4.3	前端界面设计
##4.4 后台管理设计


     
        
        
        
        
        
        
        
        
        
        
        
        
